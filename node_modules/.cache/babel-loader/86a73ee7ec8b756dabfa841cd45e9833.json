{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Bhavani\\\\Downloads\\\\my predictor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\Bhavani\\\\Downloads\\\\my predictor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";/* eslint-disable no-bitwise */import React,{useState,useEffect}from'react';import{getByCategory}from'../../utils/getData';import PredictionTable from'../PredictionTable/PredictionTable';import'./CollegePredictor.css';var CollegePredictor=function CollegePredictor(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),colleges=_useState2[0],setColleges=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),rank=_useState4[0],setRank=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setLoading=_useState6[1];var _useState7=useState('Advanced'),_useState8=_slicedToArray(_useState7,2),exam=_useState8[0],setExam=_useState8[1];var _useState9=useState({category:'OPEN'}),_useState10=_slicedToArray(_useState9,2),filters=_useState10[0],setFilters=_useState10[1];var filterData=function filterData(college){var finalVal=rank<=college.closingRank;// This filter is hardcoded for IIT and Non-IIT\n// eslint-disable-next-line no-param-reassign\nvar dataFilters=_objectSpread(_objectSpread({},filters),{},{type:exam==='Advanced'?'IIT':['IIT']});Object.keys(dataFilters).forEach(function(filter){// All means skip filter\nif(dataFilters[filter]!=='All'){if(dataFilters[filter]instanceof Array){finalVal&=!dataFilters[filter].includes(college[filter]);}else{finalVal&=college[filter]===dataFilters[filter];}}});return finalVal;};var getFilteredColleges=function getFilteredColleges(){return new Promise(function(resolve,_reject){var filteredColleges=getByCategory(filters.category).filter(filterData);// using this to prevent 1 second lag, loading is better than lag\nsetTimeout(function(){resolve(filteredColleges);},1000);});};var filterColleges=function filterColleges(){setLoading(true);getFilteredColleges().then(function(filteredColleges){setColleges(filteredColleges);setLoading(false);});};useEffect(function(){filterColleges();},[exam,filters]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"filter-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"filter-form__inputs\"},\"JEE\",/*#__PURE__*/React.createElement(\"select\",{value:exam,onChange:function onChange(e){return setExam(e.target.value);},className:\"exam-type-select\"},/*#__PURE__*/React.createElement(\"option\",{key:\"mains\",value:\"Mains\"},\"Mains\"),/*#__PURE__*/React.createElement(\"option\",{key:\"adv\",value:\"Advanced\"},\"Advanced\")),\"Rank\",/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"rank-input\",placeholder:\"Enter your rank here\",value:rank,onChange:function onChange(e){return setRank(parseInt(e.target.value,10));}}),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(_e){return filterColleges();},className:\"submit-btn\"},\"Get Predictions\")),/*#__PURE__*/React.createElement(\"div\",{className:\"dev-links\"},\"Made in Rajasthan by \\xA0\",/*#__PURE__*/React.createElement(\"a\",{className:\"dev-link\",target:\"_blank\",rel:\"noopener noreferrer\",href:\"https://github.com/2AMDevs/no-bs-college-predictor/\"},\"2AM Devs\"))),/*#__PURE__*/React.createElement(PredictionTable,{colleges:colleges,filters:filters,setFilters:setFilters,isLoading:isLoading}));};export default CollegePredictor;","map":{"version":3,"names":["React","useState","useEffect","getByCategory","PredictionTable","CollegePredictor","colleges","setColleges","rank","setRank","isLoading","setLoading","exam","setExam","category","filters","setFilters","filterData","college","finalVal","closingRank","dataFilters","type","Object","keys","forEach","filter","Array","includes","getFilteredColleges","Promise","resolve","_reject","filteredColleges","setTimeout","filterColleges","then","e","target","value","parseInt","_e"],"sources":["C:/Users/Bhavani/Downloads/my predictor/src/components/CollegePredictor/CollegePredictor.js"],"sourcesContent":["/* eslint-disable no-bitwise */\nimport React, { useState, useEffect } from 'react'\n\nimport { getByCategory } from '../../utils/getData'\nimport PredictionTable from '../PredictionTable/PredictionTable'\nimport './CollegePredictor.css'\n\nconst CollegePredictor = () => {\n  const [colleges, setColleges] = useState([])\n  const [rank, setRank] = useState()\n  const [isLoading, setLoading] = useState(false)\n  const [exam, setExam] = useState('Advanced')\n  const [filters, setFilters] = useState({ category: 'OPEN' })\n\n  const filterData = (college) => {\n    let finalVal = rank <= college.closingRank\n    // This filter is hardcoded for IIT and Non-IIT\n    // eslint-disable-next-line no-param-reassign\n    const dataFilters = {\n      ...filters,\n      type: exam === 'Advanced' ? 'IIT' : ['IIT'],\n    }\n\n    Object.keys(dataFilters)\n      .forEach((filter) => {\n        // All means skip filter\n        if (dataFilters[filter] !== 'All') {\n          if (dataFilters[filter] instanceof Array) {\n            finalVal &= (!dataFilters[filter].includes(college[filter]))\n          } else {\n            finalVal &= (college[filter] === dataFilters[filter])\n          }\n        }\n      })\n    return finalVal\n  }\n\n  const getFilteredColleges = () => new Promise(((resolve, _reject) => {\n    const filteredColleges = getByCategory(filters.category)\n      .filter(filterData)\n\n    // using this to prevent 1 second lag, loading is better than lag\n    setTimeout(() => {\n      resolve(filteredColleges)\n    }, 1000)\n  }))\n\n  const filterColleges = () => {\n    setLoading(true)\n    getFilteredColleges().then((filteredColleges) => {\n      setColleges(filteredColleges)\n      setLoading(false)\n    })\n  }\n\n  useEffect(() => {\n    filterColleges()\n  }, [exam, filters])\n\n  return (\n    <>\n      <div className=\"filter-form\">\n        <div className=\"filter-form__inputs\">\n          JEE\n          <select\n            value={exam}\n            onChange={(e) => setExam(e.target.value)}\n            className=\"exam-type-select\"\n          >\n            <option\n              key=\"mains\"\n              value=\"Mains\"\n            >\n              Mains\n            </option>\n            <option\n              key=\"adv\"\n              value=\"Advanced\"\n            >\n              Advanced\n            </option>\n          </select>\n          Rank\n          <input\n            type=\"number\"\n            className=\"rank-input\"\n            placeholder=\"Enter your rank here\"\n            value={rank}\n            onChange={(e) => setRank(parseInt(e.target.value, 10))}\n          />\n          <button\n            type=\"button\"\n            onClick={(_e) => filterColleges()}\n            className=\"submit-btn\"\n          >\n            Get Predictions\n          </button>\n        </div>\n        <div className=\"dev-links\">\n          Made in Rajasthan by\n          &nbsp;\n          <a\n            className=\"dev-link\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://github.com/2AMDevs/no-bs-college-predictor/\"\n          >\n            2AM Devs\n          </a>\n        </div>\n      </div>\n      <PredictionTable\n        colleges={colleges}\n        filters={filters}\n        setFilters={setFilters}\n        isLoading={isLoading}\n      />\n    </>\n  )\n}\n\nexport default CollegePredictor\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}